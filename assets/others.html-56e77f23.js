import{_ as l,M as a,p as o,q as c,R as e,t as n,N as r}from"./framework-5866ffd3.js";const d={},s=e("h1",{id:"其他",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#其他","aria-hidden":"true"},"#"),n(" 其他")],-1),i=e("h2",{id:"react-scheduler-为什么默认使用-messagechannel-实现-而不用settimeout。",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#react-scheduler-为什么默认使用-messagechannel-实现-而不用settimeout。","aria-hidden":"true"},"#"),n(" React Scheduler 为什么默认使用 MessageChannel 实现, 而不用setTimeout。")],-1),h={href:"https://juejin.cn/post/6953804914715803678",target:"_blank",rel:"noopener noreferrer"},u=e("p",null,"setTimeout 默认回调时间最短是4毫秒，导致浪费4毫秒时间。",-1),_=e("h2",{id:"react-18不再依赖concurrent-mode开启并发-而是以是否使用并发特性作为是否开启并发更新的依据。",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#react-18不再依赖concurrent-mode开启并发-而是以是否使用并发特性作为是否开启并发更新的依据。","aria-hidden":"true"},"#"),n(" React 18不再依赖Concurrent Mode开启并发, 而是以是否使用并发特性作为是否开启并发更新的依据。")],-1),p={href:"https://segmentfault.com/a/1190000040973864",target:"_blank",rel:"noopener noreferrer"},f=e("h2",{id:"react-diff",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#react-diff","aria-hidden":"true"},"#"),n(" react diff")],-1),m={href:"https://github.com/facebook/react/blob/aa9988e5e669122ed0d76c72f2dea159eef872b4/packages/react-reconciler/src/ReactChildFiber.new.js#L750",target:"_blank",rel:"noopener noreferrer"},C=e("ol",null,[e("li",null,[e("p",null,"从头到尾遍历，直到找到不一样的。")]),e("li",null,[e("p",null,"如果 newChildren 已经到达末尾，delete 所有 oldChildren 余下节点。")]),e("li",null,[e("p",null,"如果 oldChildren 到达末尾，create 所有 newChildren 余下节点。")]),e("li",null,[e("p",null,"newChildren 和 oldChildren 都没到达末尾。"),e("p",null,"4.1. 将 oldChildren 余下节点生成 key - index map。 existingChildren。"),e("p",null,"4.2. 遍历 newChildren 余下节点。key 在 oldChildren 存在则 patch, 并从 existingChildren map 中移除, 不存在则 create。"),e("p",null,"4.3. delete 所有 existingChildren 余下节点。")])],-1);function x(b,g){const t=a("ExternalLinkIcon");return o(),c("div",null,[s,i,e("p",null,[n("React Scheduler 使用 MessageChannel 的原因为："),e("a",h,[n("生成宏任务"),r(t)])]),u,_,e("p",null,[e("a",p,[n("链接"),r(t)])]),f,e("p",null,[e("a",m,[n("传送门"),r(t)])]),C])}const w=l(d,[["render",x],["__file","others.html.vue"]]);export{w as default};
