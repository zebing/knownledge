import{_ as o,M as i,p as d,q as s,R as e,t as a,N as t,a1 as r}from"./framework-5866ffd3.js";const l={},c=e("h1",{id:"hybrid",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#hybrid","aria-hidden":"true"},"#"),a(" hybrid")],-1),p=e("p",null,"h5跟原生页面进行交互，调用原生提供的方法。",-1),h=e("h2",{id:"android",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#android","aria-hidden":"true"},"#"),a(" android")],-1),v={href:"https://developer.android.com/reference/android/webkit/WebView#addJavascriptInterface(java.lang.Object,%20java.lang.String)",target:"_blank",rel:"noopener noreferrer"},g=r(`<p><strong>h5调用原生</strong></p><p>通过 <code>addJavascriptInterface</code>方法将原生对象注入window，然后h5通过window[注入对象属性名][调用的方法] 例如：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>// native 为注入的属性，hello为原生方法
window.native.hello()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>原生调用h5</strong></p><p>H5 将 JS 方法暴露在 Window 上给 Native 调用，安卓通过<code>evaluateJavaScript</code>进行调用</p><p><strong>参考资料</strong></p>`,6),_={href:"https://blog.csdn.net/carson_ho/article/details/64904691",target:"_blank",rel:"noopener noreferrer"},b=r('<h2 id="ios" tabindex="-1"><a class="header-anchor" href="#ios" aria-hidden="true">#</a> ios</h2><p>iOS有<strong>UIWebview</strong>和<strong>WKWebview</strong>两种webview</p><p><strong>UIWebview</strong></p><p>JS调用native</p><ol><li>JavaScriptCore</li><li>URL拦截方式</li></ol><p>native调用JS</p><ol><li>stringByEvaluatingJavaScriptFromString</li><li>JavaScriptCore</li></ol><p><strong>WKWebView</strong></p><p>JS调用native <code>window.webkit.messageHandlers.[methods].postMessage(&quot;Hello, world!&quot;);</code></p><ol><li>addScriptMessageHandler</li><li>URL拦截方式</li></ol><p>native调用JS</p><ol><li>JavaScriptCore evaluateJavaScript</li></ol><p><strong>参考</strong></p>',13),u={href:"https://developer.apple.com/documentation/webkit/wkusercontentcontroller/1537172-addscriptmessagehandler?language=objc",target:"_blank",rel:"noopener noreferrer"};function w(m,f){const n=i("ExternalLinkIcon");return d(),s("div",null,[c,p,h,e("p",null,[e("a",v,[a("android WebView docs"),t(n)])]),g,e("p",null,[e("a",_,[a("Android：你要的WebView与 JS 交互方式 都在这里了"),t(n)])]),b,e("p",null,[e("a",u,[a("wkwebview addScriptMessageHandler:name"),t(n)])])])}const x=o(l,[["render",w],["__file","index.html.vue"]]);export{x as default};
